<h1 class="text-center">Gestión de solicitudes</h1>

<div class="col-md-12">
  <table class="table">
    <thead>
      <tr>
        <th>Id</th>
        <th>Solicitud</th>
        <th>Fecha de emisión</th>
        <th>Fecha de respuesta</th>
        <th>Documentos</th>
      </tr>
    </thead>

    <tbody>
      <tr ng-if="!requests.all.length">
        <td colspan="5" class="text-center">No existen solicitudes</td>
      </tr>

      <tr ng-repeat="request in requests.all | fromIndex:(requests.currentPage - 1) * dashboard.itemsPerPage | limitTo: dashboard.itemsPerPage">
        <td>{{ request.id }}</td>
        <td>{{ request.request }}</td>
        <td>{{ request.date_request }}</td>
        <td>{{ request.date_response }}</td>
        <td><button class="btn btn-default" type="button" ng-click="requests.seeDocuments(request.id)">Ver documentos</button></td>
      </tr>
    </tbody>
  </table>

  <div class="row">
    <div class="col-md-10">
      <ul uib-pagination total-items="requests.all.length" ng-model="requests.currentPage" items-per-page="dashboard.itemsPerPage" style="margin: 0;"></ul>
    </div>

    <div class="col-md-2 text-right">
      <button type="button" class="btn btn-primary" ng-click="requests.openModal()" ng-if="dashboard.user.role === 'acudiente'">Crear solicitud</button>
    </div>
  </div>
</div>
